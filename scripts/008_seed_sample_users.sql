-- ============================================================================
-- FASS Sample Users Seed Data
-- Version: 2.0 - January 2026
-- 
-- NOTE: This script creates profile entries for demonstration purposes.
-- In production, users are created via Supabase Auth and profiles are 
-- auto-generated by the handle_new_user trigger.
--
-- For demo/testing, you can manually create auth users via Supabase Dashboard
-- and then run this script to update their profiles with roles.
-- ============================================================================

-- ============================================================================
-- SAMPLE ADMINISTRATORS (2)
-- ============================================================================

-- Admin 1: System Administrator
INSERT INTO public.profiles (id, email, full_name, role, phone, two_factor_enabled, language_preference, trust_score)
VALUES (
  'ad000001-0000-4000-a000-000000000001',
  'admin@totalenergies.et',
  'Abebe Kebede',
  'ADMIN',
  '+251-91-123-4567',
  true,
  'am',
  100.00
) ON CONFLICT (id) DO UPDATE SET
  role = 'ADMIN',
  two_factor_enabled = true,
  full_name = EXCLUDED.full_name;

-- Admin 2: Senior Administrator
INSERT INTO public.profiles (id, email, full_name, role, phone, two_factor_enabled, language_preference, trust_score)
VALUES (
  'ad000002-0000-4000-a000-000000000002',
  'senior.admin@totalenergies.et',
  'Sara Tesfaye',
  'ADMIN',
  '+251-91-234-5678',
  true,
  'en',
  100.00
) ON CONFLICT (id) DO UPDATE SET
  role = 'ADMIN',
  two_factor_enabled = true,
  full_name = EXCLUDED.full_name;

-- ============================================================================
-- SAMPLE STATION MANAGERS (3)
-- ============================================================================

-- Manager 1: Bole Station Manager
INSERT INTO public.profiles (id, email, full_name, role, phone, assigned_station_id, two_factor_enabled, language_preference, trust_score)
VALUES (
  'mg000001-0000-4000-a000-000000000001',
  'manager.bole@totalenergies.et',
  'Dawit Haile',
  'MANAGER',
  '+251-91-345-6789',
  'a1b2c3d4-e5f6-4890-abcd-ef1234567890', -- TotalEnergies Bole
  true,
  'am',
  95.00
) ON CONFLICT (id) DO UPDATE SET
  role = 'MANAGER',
  assigned_station_id = EXCLUDED.assigned_station_id,
  full_name = EXCLUDED.full_name;

-- Manager 2: Mexico Station Manager
INSERT INTO public.profiles (id, email, full_name, role, phone, assigned_station_id, two_factor_enabled, language_preference, trust_score)
VALUES (
  'mg000002-0000-4000-a000-000000000002',
  'manager.mexico@totalenergies.et',
  'Hiwot Girma',
  'MANAGER',
  '+251-91-456-7890',
  'c3d4e5f6-a7b8-4012-cdef-123456789012', -- TotalEnergies Mexico
  true,
  'en',
  92.00
) ON CONFLICT (id) DO UPDATE SET
  role = 'MANAGER',
  assigned_station_id = EXCLUDED.assigned_station_id,
  full_name = EXCLUDED.full_name;

-- Manager 3: Piassa Station Manager
INSERT INTO public.profiles (id, email, full_name, role, phone, assigned_station_id, two_factor_enabled, language_preference, trust_score)
VALUES (
  'mg000003-0000-4000-a000-000000000003',
  'manager.piassa@totalenergies.et',
  'Yohannes Bekele',
  'MANAGER',
  '+251-91-567-8901',
  'e5f6a7b8-c9d0-4234-efab-345678901234', -- TotalEnergies Piassa
  true,
  'am',
  90.00
) ON CONFLICT (id) DO UPDATE SET
  role = 'MANAGER',
  assigned_station_id = EXCLUDED.assigned_station_id,
  full_name = EXCLUDED.full_name;

-- Update stations with their managers
UPDATE public.stations SET manager_id = 'mg000001-0000-4000-a000-000000000001' WHERE id = 'a1b2c3d4-e5f6-4890-abcd-ef1234567890';
UPDATE public.stations SET manager_id = 'mg000002-0000-4000-a000-000000000002' WHERE id = 'c3d4e5f6-a7b8-4012-cdef-123456789012';
UPDATE public.stations SET manager_id = 'mg000003-0000-4000-a000-000000000003' WHERE id = 'e5f6a7b8-c9d0-4234-efab-345678901234';

-- ============================================================================
-- SAMPLE LOGISTICS HUB PERSONNEL (3)
-- ============================================================================

-- Logistics 1: Senior Logistics Coordinator
INSERT INTO public.profiles (id, email, full_name, role, phone, language_preference, trust_score)
VALUES (
  'lg000001-0000-4000-a000-000000000001',
  'logistics.lead@totalenergies.et',
  'Mekonnen Tadesse',
  'LOGISTICS',
  '+251-91-678-9012',
  'am',
  88.00
) ON CONFLICT (id) DO UPDATE SET
  role = 'LOGISTICS',
  full_name = EXCLUDED.full_name;

-- Logistics 2: Fleet Coordinator
INSERT INTO public.profiles (id, email, full_name, role, phone, language_preference, trust_score)
VALUES (
  'lg000002-0000-4000-a000-000000000002',
  'fleet@totalenergies.et',
  'Tigist Mengistu',
  'LOGISTICS',
  '+251-91-789-0123',
  'en',
  85.00
) ON CONFLICT (id) DO UPDATE SET
  role = 'LOGISTICS',
  full_name = EXCLUDED.full_name;

-- Logistics 3: Dispatch Coordinator
INSERT INTO public.profiles (id, email, full_name, role, phone, language_preference, trust_score)
VALUES (
  'lg000003-0000-4000-a000-000000000003',
  'dispatch@totalenergies.et',
  'Mulugeta Assefa',
  'LOGISTICS',
  '+251-91-890-1234',
  'am',
  82.00
) ON CONFLICT (id) DO UPDATE SET
  role = 'LOGISTICS',
  full_name = EXCLUDED.full_name;

-- ============================================================================
-- SAMPLE TANKER DRIVERS (5)
-- ============================================================================

-- Driver 1: Senior Driver
INSERT INTO public.profiles (id, email, full_name, role, phone, language_preference, trust_score)
VALUES (
  'dr000001-0000-4000-a000-000000000001',
  'driver.1@totalenergies.et',
  'Tesfaye Alemayehu',
  'DRIVER',
  '+251-91-111-2222',
  'am',
  90.00
) ON CONFLICT (id) DO UPDATE SET
  role = 'DRIVER',
  full_name = EXCLUDED.full_name;

-- Driver 2
INSERT INTO public.profiles (id, email, full_name, role, phone, language_preference, trust_score)
VALUES (
  'dr000002-0000-4000-a000-000000000002',
  'driver.2@totalenergies.et',
  'Getachew Woldemariam',
  'DRIVER',
  '+251-91-222-3333',
  'am',
  85.00
) ON CONFLICT (id) DO UPDATE SET
  role = 'DRIVER',
  full_name = EXCLUDED.full_name;

-- Driver 3
INSERT INTO public.profiles (id, email, full_name, role, phone, language_preference, trust_score)
VALUES (
  'dr000003-0000-4000-a000-000000000003',
  'driver.3@totalenergies.et',
  'Solomon Gebre',
  'DRIVER',
  '+251-91-333-4444',
  'en',
  80.00
) ON CONFLICT (id) DO UPDATE SET
  role = 'DRIVER',
  full_name = EXCLUDED.full_name;

-- Driver 4
INSERT INTO public.profiles (id, email, full_name, role, phone, language_preference, trust_score)
VALUES (
  'dr000004-0000-4000-a000-000000000004',
  'driver.4@totalenergies.et',
  'Biniam Habtamu',
  'DRIVER',
  '+251-91-444-5555',
  'am',
  78.00
) ON CONFLICT (id) DO UPDATE SET
  role = 'DRIVER',
  full_name = EXCLUDED.full_name;

-- Driver 5
INSERT INTO public.profiles (id, email, full_name, role, phone, language_preference, trust_score)
VALUES (
  'dr000005-0000-4000-a000-000000000005',
  'driver.5@totalenergies.et',
  'Hailu Desta',
  'DRIVER',
  '+251-91-555-6666',
  'am',
  75.00
) ON CONFLICT (id) DO UPDATE SET
  role = 'DRIVER',
  full_name = EXCLUDED.full_name;

-- Assign drivers to tankers
UPDATE public.tankers SET driver_id = 'dr000001-0000-4000-a000-000000000001' WHERE id = '11a2b3c4-d5e6-4890-abcd-ef1234567890';
UPDATE public.tankers SET driver_id = 'dr000002-0000-4000-a000-000000000002' WHERE id = '22b3c4d5-e6f7-4901-bcde-f12345678901';
UPDATE public.tankers SET driver_id = 'dr000003-0000-4000-a000-000000000003' WHERE id = '33c4d5e6-f7a8-4012-cdef-123456789012';
UPDATE public.tankers SET driver_id = 'dr000004-0000-4000-a000-000000000004' WHERE id = '44d5e6f7-a8b9-4123-defa-234567890123';
UPDATE public.tankers SET driver_id = 'dr000005-0000-4000-a000-000000000005' WHERE id = '55e6f7a8-b9c0-4234-efab-345678901234';

-- ============================================================================
-- SAMPLE STATION STAFF (6)
-- ============================================================================

-- Staff 1: Bole Station Staff
INSERT INTO public.profiles (id, email, full_name, role, phone, assigned_station_id, language_preference, trust_score)
VALUES (
  'st000001-0000-4000-a000-000000000001',
  'staff.bole.1@totalenergies.et',
  'Kidist Ayele',
  'STAFF',
  '+251-91-666-7777',
  'a1b2c3d4-e5f6-4890-abcd-ef1234567890',
  'am',
  70.00
) ON CONFLICT (id) DO UPDATE SET
  role = 'STAFF',
  assigned_station_id = EXCLUDED.assigned_station_id,
  full_name = EXCLUDED.full_name;

-- Staff 2: Bole Station Staff
INSERT INTO public.profiles (id, email, full_name, role, phone, assigned_station_id, language_preference, trust_score)
VALUES (
  'st000002-0000-4000-a000-000000000002',
  'staff.bole.2@totalenergies.et',
  'Fitsum Negash',
  'STAFF',
  '+251-91-777-8888',
  'a1b2c3d4-e5f6-4890-abcd-ef1234567890',
  'en',
  68.00
) ON CONFLICT (id) DO UPDATE SET
  role = 'STAFF',
  assigned_station_id = EXCLUDED.assigned_station_id,
  full_name = EXCLUDED.full_name;

-- Staff 3: Mexico Station Staff
INSERT INTO public.profiles (id, email, full_name, role, phone, assigned_station_id, language_preference, trust_score)
VALUES (
  'st000003-0000-4000-a000-000000000003',
  'staff.mexico@totalenergies.et',
  'Bethlehem Yosef',
  'STAFF',
  '+251-91-888-9999',
  'c3d4e5f6-a7b8-4012-cdef-123456789012',
  'am',
  72.00
) ON CONFLICT (id) DO UPDATE SET
  role = 'STAFF',
  assigned_station_id = EXCLUDED.assigned_station_id,
  full_name = EXCLUDED.full_name;

-- Staff 4: Piassa Station Staff
INSERT INTO public.profiles (id, email, full_name, role, phone, assigned_station_id, language_preference, trust_score)
VALUES (
  'st000004-0000-4000-a000-000000000004',
  'staff.piassa@totalenergies.et',
  'Meseret Fikre',
  'STAFF',
  '+251-91-999-0000',
  'e5f6a7b8-c9d0-4234-efab-345678901234',
  'am',
  65.00
) ON CONFLICT (id) DO UPDATE SET
  role = 'STAFF',
  assigned_station_id = EXCLUDED.assigned_station_id,
  full_name = EXCLUDED.full_name;

-- Staff 5: CMC Station Staff
INSERT INTO public.profiles (id, email, full_name, role, phone, assigned_station_id, language_preference, trust_score)
VALUES (
  'st000005-0000-4000-a000-000000000005',
  'staff.cmc@totalenergies.et',
  'Henok Tadesse',
  'STAFF',
  '+251-91-000-1111',
  'd4e5f6a7-b8c9-4123-defa-234567890123',
  'en',
  74.00
) ON CONFLICT (id) DO UPDATE SET
  role = 'STAFF',
  assigned_station_id = EXCLUDED.assigned_station_id,
  full_name = EXCLUDED.full_name;

-- Staff 6: Megenagna Station Staff
INSERT INTO public.profiles (id, email, full_name, role, phone, assigned_station_id, language_preference, trust_score)
VALUES (
  'st000006-0000-4000-a000-000000000006',
  'staff.megenagna@totalenergies.et',
  'Rahel Bekele',
  'STAFF',
  '+251-91-112-2334',
  'b2c3d4e5-f6a7-4901-bcde-f12345678901',
  'am',
  69.00
) ON CONFLICT (id) DO UPDATE SET
  role = 'STAFF',
  assigned_station_id = EXCLUDED.assigned_station_id,
  full_name = EXCLUDED.full_name;

-- ============================================================================
-- SAMPLE IT SUPPORT PERSONNEL (2)
-- ============================================================================

-- IT Support 1: Senior IT Support
INSERT INTO public.profiles (id, email, full_name, role, phone, language_preference, trust_score)
VALUES (
  'it000001-0000-4000-a000-000000000001',
  'it.support@totalenergies.et',
  'Daniel Amanuel',
  'IT_SUPPORT',
  '+251-91-223-3445',
  'en',
  95.00
) ON CONFLICT (id) DO UPDATE SET
  role = 'IT_SUPPORT',
  full_name = EXCLUDED.full_name;

-- IT Support 2: IT Support Technician
INSERT INTO public.profiles (id, email, full_name, role, phone, language_preference, trust_score)
VALUES (
  'it000002-0000-4000-a000-000000000002',
  'it.technician@totalenergies.et',
  'Natnael Berhane',
  'IT_SUPPORT',
  '+251-91-334-4556',
  'am',
  88.00
) ON CONFLICT (id) DO UPDATE SET
  role = 'IT_SUPPORT',
  full_name = EXCLUDED.full_name;

-- ============================================================================
-- SAMPLE PUBLIC USERS (5)
-- ============================================================================

-- Public User 1
INSERT INTO public.profiles (id, email, full_name, role, phone, language_preference, trust_score)
VALUES (
  'pu000001-0000-4000-a000-000000000001',
  'user.1@example.com',
  'Meron Alemu',
  'PUBLIC',
  '+251-91-445-5667',
  'am',
  55.00
) ON CONFLICT (id) DO UPDATE SET
  role = 'PUBLIC',
  full_name = EXCLUDED.full_name;

-- Public User 2
INSERT INTO public.profiles (id, email, full_name, role, phone, language_preference, trust_score)
VALUES (
  'pu000002-0000-4000-a000-000000000002',
  'user.2@example.com',
  'Elias Wondimu',
  'PUBLIC',
  '+251-91-556-6778',
  'en',
  60.00
) ON CONFLICT (id) DO UPDATE SET
  role = 'PUBLIC',
  full_name = EXCLUDED.full_name;

-- Public User 3
INSERT INTO public.profiles (id, email, full_name, role, phone, language_preference, trust_score)
VALUES (
  'pu000003-0000-4000-a000-000000000003',
  'user.3@example.com',
  'Selamawit Desta',
  'PUBLIC',
  '+251-91-667-7889',
  'am',
  45.00
) ON CONFLICT (id) DO UPDATE SET
  role = 'PUBLIC',
  full_name = EXCLUDED.full_name;

-- Public User 4
INSERT INTO public.profiles (id, email, full_name, role, phone, language_preference, trust_score)
VALUES (
  'pu000004-0000-4000-a000-000000000004',
  'user.4@example.com',
  'Fasil Mesfin',
  'PUBLIC',
  '+251-91-778-8990',
  'en',
  52.00
) ON CONFLICT (id) DO UPDATE SET
  role = 'PUBLIC',
  full_name = EXCLUDED.full_name;

-- Public User 5
INSERT INTO public.profiles (id, email, full_name, role, phone, language_preference, trust_score)
VALUES (
  'pu000005-0000-4000-a000-000000000005',
  'user.5@example.com',
  'Tsega Hailu',
  'PUBLIC',
  '+251-91-889-9001',
  'am',
  58.00
) ON CONFLICT (id) DO UPDATE SET
  role = 'PUBLIC',
  full_name = EXCLUDED.full_name;

-- ============================================================================
-- SAMPLE USER REPORTS (From Public Users)
-- ============================================================================

INSERT INTO public.user_reports (station_id, user_id, fuel_type, reported_status, reported_queue_level, comment, status)
VALUES
  ('a1b2c3d4-e5f6-4890-abcd-ef1234567890', 'pu000001-0000-4000-a000-000000000001', 'diesel', 'available', 'short', 'Diesel available, short queue around 5 minutes', 'verified'),
  ('b2c3d4e5-f6a7-4901-bcde-f12345678901', 'pu000002-0000-4000-a000-000000000002', 'benzene_95', 'low', 'long', 'Very long queue for Benzene 95, been waiting 25 minutes', 'pending'),
  ('c3d4e5f6-a7b8-4012-cdef-123456789012', 'pu000003-0000-4000-a000-000000000003', 'diesel', 'out_of_stock', 'very_long', 'No diesel available, tanker arrived but not yet dispensing', 'pending'),
  ('d4e5f6a7-b8c9-4123-defa-234567890123', 'pu000004-0000-4000-a000-000000000004', 'benzene_97', 'available', 'none', 'Premium fuel available with no queue!', 'verified'),
  ('e5f6a7b8-c9d0-4234-efab-345678901234', 'pu000005-0000-4000-a000-000000000005', 'diesel', 'available', 'medium', 'Diesel available but moderate queue', 'pending')
ON CONFLICT DO NOTHING;

-- ============================================================================
-- SAMPLE SUBSCRIPTIONS (Users subscribing to stations)
-- ============================================================================

INSERT INTO public.subscriptions (user_id, station_id, fuel_type, notify_on_available, notify_on_low, notify_on_delivery, is_active)
VALUES
  ('pu000001-0000-4000-a000-000000000001', 'a1b2c3d4-e5f6-4890-abcd-ef1234567890', 'diesel', true, true, true, true),
  ('pu000001-0000-4000-a000-000000000001', 'b2c3d4e5-f6a7-4901-bcde-f12345678901', 'benzene_95', true, false, true, true),
  ('pu000002-0000-4000-a000-000000000002', 'c3d4e5f6-a7b8-4012-cdef-123456789012', 'diesel', true, true, true, true),
  ('pu000003-0000-4000-a000-000000000003', 'd4e5f6a7-b8c9-4123-defa-234567890123', NULL, true, true, true, true),
  ('pu000004-0000-4000-a000-000000000004', 'e5f6a7b8-c9d0-4234-efab-345678901234', 'benzene_97', true, false, false, true)
ON CONFLICT DO NOTHING;

-- ============================================================================
-- SUMMARY OF SAMPLE DATA
-- ============================================================================
-- 
-- ADMINISTRATORS (2):
--   - admin@totalenergies.et (Abebe Kebede)
--   - senior.admin@totalenergies.et (Sara Tesfaye)
--
-- STATION MANAGERS (3):
--   - manager.bole@totalenergies.et (Dawit Haile) - TotalEnergies Bole
--   - manager.mexico@totalenergies.et (Hiwot Girma) - TotalEnergies Mexico
--   - manager.piassa@totalenergies.et (Yohannes Bekele) - TotalEnergies Piassa
--
-- LOGISTICS PERSONNEL (3):
--   - logistics.lead@totalenergies.et (Mekonnen Tadesse)
--   - fleet@totalenergies.et (Tigist Mengistu)
--   - dispatch@totalenergies.et (Mulugeta Assefa)
--
-- TANKER DRIVERS (5):
--   - driver.1@totalenergies.et (Tesfaye Alemayehu) - Tanker AA-12345
--   - driver.2@totalenergies.et (Getachew Woldemariam) - Tanker AA-23456
--   - driver.3@totalenergies.et (Solomon Gebre) - Tanker AA-34567
--   - driver.4@totalenergies.et (Biniam Habtamu) - Tanker AA-45678
--   - driver.5@totalenergies.et (Hailu Desta) - Tanker AA-56789
--
-- STATION STAFF (6):
--   - staff.bole.1@totalenergies.et (Kidist Ayele) - Bole
--   - staff.bole.2@totalenergies.et (Fitsum Negash) - Bole
--   - staff.mexico@totalenergies.et (Bethlehem Yosef) - Mexico
--   - staff.piassa@totalenergies.et (Meseret Fikre) - Piassa
--   - staff.cmc@totalenergies.et (Henok Tadesse) - CMC
--   - staff.megenagna@totalenergies.et (Rahel Bekele) - Megenagna
--
-- IT SUPPORT (2):
--   - it.support@totalenergies.et (Daniel Amanuel)
--   - it.technician@totalenergies.et (Natnael Berhane)
--
-- PUBLIC USERS (5):
--   - user.1@example.com (Meron Alemu)
--   - user.2@example.com (Elias Wondimu)
--   - user.3@example.com (Selamawit Desta)
--   - user.4@example.com (Fasil Mesfin)
--   - user.5@example.com (Tsega Hailu)
--
-- TOTAL: 26 sample users across all roles
-- ============================================================================
